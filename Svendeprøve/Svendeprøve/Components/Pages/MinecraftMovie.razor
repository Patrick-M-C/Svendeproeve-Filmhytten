@page "/MinecraftMovie"
@rendermode InteractiveServer

@using Svendeprøve.Components.Models
@using Svendeprøve.Components.Services
@inject MovieService MovieService
@inject NavigationManager NavigationManager

@* 
    Blazor-komponent til visning af detaljer for Minecraft Movie, inklusive titel, genre og beskrivelse.
    Indeholder også en knap til at bestille billetter og en tilbage-knap til hjemmesiden.
*@

<PageTitle>Minecraft Movie</PageTitle>

@if (movie == null)
{
    <p class="text-center">Loading.....</p>
}
else
{
    <div class="container">
        <h1 class="text-center mt-4">@movie.Title</h1>
        <div class="row">
            <div class="col-md-6">
                <img src="@movie.poster_path" class="img-fluid rounded" alt="@movie.Title" style="max-height: 500px; object-fit: cover;" />
            </div>
            <div class="col-md-6">
                <h3>Genre: @movie.Genre</h3>
                <h4>Beskrivelse:</h4>
                <p>@movie.overview</p>
                <div class="mt-4">
                    <button class="btn btn-primary me-2" @onclick="NavigateToBooking">Bestil Billet</button>
                    <button class="btn btn-secondary" @onclick="NavigateToHome">Tilbage til Forsiden</button>
                </div>
            </div>
        </div>
    </div>
}

@code {
    private Movie? movie;

    protected override async Task OnInitializedAsync()
    {
        var movies = await MovieService.GetMoviesAsync();
        movie = movies.FirstOrDefault();
    }

    private void NavigateToBooking()
    {
        NavigationManager.NavigateTo("/Hall");
    }

    private void NavigateToHome()
    {
        NavigationManager.NavigateTo("/");
    }
}

<style>
    .container {
        padding: 20px;
    }

    .img-fluid {
        border-radius: 8px;
        margin-bottom: 20px;
    }

    .btn-primary {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007bff;
        border-color: #007bff;
    }

        .btn-primary:hover {
            background-color: #0056b3;
            border-color: #0056b3;
        }

    .btn-secondary {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #6c757d;
        border-color: #6c757d;
    }

        .btn-secondary:hover {
            background-color: #5a6268;
            border-color: #5a6268;
        }

    .text-danger {
        color: #dc3545;
    }
</style>